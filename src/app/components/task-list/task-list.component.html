<div class="task-list">
  <h2>Lista de Tareas</h2>
  <div class="filter-buttons">
    <button (click)="filterTasks('all')" [class.active]="currentFilter === 'all'">Todas</button>
    <button (click)="filterTasks('completed')" [class.active]="currentFilter === 'completed'">Completadas</button>
    <button (click)="filterTasks('pending')" [class.active]="currentFilter === 'pending'">Pendientes</button>
  </div>
  <div class="task-list-container">
    <ul>
      <li *ngFor="let task of filteredTasks$ | async" class="task-item">
        <div class="task-header">
          <span [class.completed]="task.completed">{{ task.name }}</span>
          <span class="due-date">Fecha Límite: {{ task.dueDate | date:'dd/MM/yyyy' }}</span>
        </div>
        <div class="task-actions">
          <button (click)="toggleTaskCompletion(task)">Completada</button>
          <button (click)="deleteTask(task.id)" class="delete-btn">Eliminar</button>
        </div>
        <ul class="person-list">
          <li *ngFor="let person of task.persons">
            {{ person.fullName }} ({{ person.age }} años)
            <ul class="skill-list">
              <li *ngFor="let skill of person.skills">{{ skill }}</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</div>